## Ch.11 API 리팩터링

- 모듈, 함수, 클래스를 적절하게 활용하기 위해서는 그에 맞는 API가 필요하다.
- 이런 API를 이해하기 쉽고 사용하기 쉽게 만드는 것이 중요!

<br />

### 11.1 질의 함수와 변경 함수 분리하기

- **질의 함수** : 계산 및 조회만 진행하는 함수(DB 조작이 없는 API)
- **변경 함수** : 데이터의 변경 및 부수효과가 존재하는 함수
- 값을 반환하면서 부수효과가 발생하는 함수가 있다면 분리하자!

<br />

### 11.2 함수 매개변수화하기

- 두개 이상의 함수의 로직이 비슷하고 단지 사용하는 값만 다르다면, 그 다른 값만 매개변수로 받아 처리하는 함수 하나로 합쳐 중복을 없앨 수 있다.

<br />

### 11.3 플래그 인수 제거하기

- 플래그 인수는 함수에 전달되는 매개변수가 불리언, 문자열, 등의 타입으로 전달되어 읽는 이가 이해하기 어렵게 만든다.
- 단순 리터럴 값을 전달하기 보다는, 의미를 담은 변수를 전달하도록 하자. ex) getDeliveryDate(true) => getDeliveryDate(isRush)
- 모든 API는 어떤 값을 전달하고, 어떻게 활용되는지 이해하기 쉬어야 하므로, 플래그 인수는 제거하도록 하자.

<br />

### 11.4 객체 통째로 넘기기

- 만약 함수에서 전달받는 별도의 매개변수들이 하나의 객체에 존재하는 데이터라면, 해당 객체를 인자로 통째로 넘겨주는 것이 더 좋을 수 있다.
- 하지만, 그렇다고 항상 객체 자체를 넘기는 것은 **두 객체간에 커플링을 초래하는 결과를 낳을 수 있기 때문에 주의하며 사용하자!**

<br />

### 11.5 매개변수를 질의함수로 바꾸기

- 매개변수는 함수의 동작에 변화를 줄 수 있는 일차적인 수단.
- 매개변수를 제거해도 함수에 큰 영향이 가지 않는다면, 매개변수를 제거하는 것이 좋다.

<br />

### 11.6 질의함수를 매개변수로 바꾸기

- 11.5의 반대 개념

## 11.5 & 11.6 정리

- 만약 내부 객체 모듈(클래스) 안에서 **응집도가 높은 상태(서로 연관된 데이터와 밀접하게 관련된 행동들이 있는 상태)**에서는 서로의 데이터에 직접 접근할 수 있는 **질의함수** 형태로 만드는 것이 좋다.
- 서로 응집도가 떨어진, **외부 모듈에 있는 데이터를 주고받을 때**는 바로 외부에 접근하는 것을 막고, **매개변수**로 전달하도록 하는 것이 좋다.

<br />

### 11.7 세터 제거하기

- 세터 메서드가 없는 객체는 생성된 후에 수정되지 않길 바라는 필드

<br />

### 11.8 생성자를 팩터리 함수로 바꾸기

- 객체지향 언어에서 제공하는 생성자는 객체를 초기화하기 위한 용도를 지님.
- 이러한 생성자를 호출하기 위해서는 'new'와 같은 키워드를 필수적으로 사용해야 함.
- 하지만, 팩터리 함수를 만들어 두면 아무런 제약없이 생성자를 호출할 수 있음.

<br />

### 11.9 함수를 명령으로 바꾸기

- 특정 함수를 그 함수만을 위한 객체 안으로 캡슐화한 것을 **명령객체** 또는 **명령**이라고 한다.
- 명령은 대부분 메서드 하나로 구성되며, 이 메서드를 요청에 실행하는 것이 명령 객체의 목적이다.
- 명령은 되돌리기(undo 메서드)와 같은 보조 연산을 제공할 수 있다는 이점이 존재한다.
